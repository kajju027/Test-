<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no">
<title>CRICKET NEWS POINT â„¢</title>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Amaranth:ital,wght@0,400;0,700;1,700&family=Bebas+Neue&family=Momo+Trust+Display&family=Science+Gothic:slnt,wdth,wght,CTRS@-10..0,50..200,100..900,0..85&display=swap" rel="stylesheet">

<style>
:root {
    --primary: #c70c0c;
    --dark: #0d0d0d;
    --card: #1b1b1b;
    --border: #2a2a2a;
    --text: #ffffff;
    --muted: #b3b3b3;
}

* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family: "Amaranth", sans-serif;
    background: var(--dark);
    color: var(--text);
    padding: 1rem;
    display:flex;
    justify-content:center;
    min-height:100vh;
}

.container {
    width:100%;
    max-width:850px;
}

/* Header */
.header {
    background: var(--card);
    border:1px solid var(--border);
    padding:1rem 1.5rem;
    border-radius:15px;
    font-family:"Momo Trust Display", sans-serif;
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:1rem;
}
.header h1 { font-size:1.7rem; }
.live {
    background: var(--primary);
    padding:0.3rem 1rem;
    border-radius:20px;
    font-weight:bold;
    animation:pulse 1.5s infinite;
}
@keyframes pulse {
    0% { box-shadow:0 0 0 0 rgba(199,12,12,0.7); }
    70% { box-shadow:0 0 0 12px rgba(199,12,12,0); }
    100% { box-shadow:0 0 0 0 rgba(199,12,12,0); }
}

/* Player */
#player-box {
    width:100%;
    height:50vh;
    max-height:600px;
    background:black;
    border-radius:12px;
    overflow:hidden;
    box-shadow:0 10px 25px rgba(0,0,0,0.5);
}

/* Cards */
.card {
    background:var(--card);
    border:1px solid var(--border);
    padding:1.2rem;
    border-radius:12px;
    margin-top:1rem;
    text-align:center;
}
.card h2 {
    color:var(--muted);
    font-size:1.1rem;
    margin-bottom:0.7rem;
    font-family:"Science Gothic", sans-serif;
}

.btn {
    background:var(--primary);
    color:white;
    text-decoration:none;
    padding:0.9rem 1rem;
    display:block;
    border-radius:10px;
    font-weight:bold;
    margin-top:0.6rem;
    transition:0.3s;
}
.btn:hover { opacity:0.8; }

.btn-copy.copied {
    background: #22c55e !important;
}

/* Hidden Visitor Counter */
.hidden-counter {
    width:1px;
    height:1px;
    overflow:hidden;
    opacity:0;
    position:absolute;
    pointer-events:none;
}

/* Popup */
.popup {
    position:fixed;
    top:50%; left:50%;
    transform:translate(-50%, -50%) scale(0.9);
    background:#1a1a1a;
    padding:35px 25px;
    border-radius:18px;
    border:1px solid rgba(199,12,12,0.5);
    width:90%; max-width:380px;
    text-align:center;
    display:none;
    color:white;
}
.popup h2 {
    font-family:"Momo Trust Display", sans-serif;
    font-size:1.7rem;
    color:var(--primary);
}
</style>
</head>
<body>

<div class="hidden-counter">
    <img src="https://www.counter12.com/img-9205Yd3W54Z3y43Z-5.gif" alt="counter">
</div>

<main class="container">
    <div id="content"></div>
</main>

<div class="popup" id="popupBox">
    <h2>Support Us!</h2>
    <p>Join our WhatsApp Channel ğ—–ğ—¥ğ—œğ—–ğ—ğ—˜ğ—§ ğ—¡ğ—˜ğ—ªğ—¦ ğ—£ğ—¢ğ—œğ—¡ğ—§</p>
    <a href="https://whatsapp.com/channel/0029VaeylYYBPzjVNomWuZ0T" target="_blank" class="btn">Join Now</a>
    <br>
    <button class="btn" onclick="closePopup()">Already Joined</button>
</div>

<script>
async function start() {
    try {
        const res = await fetch("https://raw.githubusercontent.com/Cricketstan/Allrounder-/refs/heads/main/id.json");
        const data = await res.json();

        const url = new URLSearchParams(window.location.search);
        const id = url.get("id");

        const found = data.iframes.find(a => a.id === id);
        if (!found) return showError();

        document.title = found.name;
        render(found);
        setTimeout(() => showPopup(), 1200);
    } catch(e){ showError(); }
}

function render(item){
    document.getElementById("content").innerHTML = `
        <div class="header">
            <h1>${item.name}</h1>
            <span class="live">LIVE</span>
        </div>
        <div id="player-box">
            <iframe src="${item.iframeSrc}" width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
        <div class="card">
            <h2>Follow Us for Updates</h2>
            <a class="btn" href="https://whatsapp.com/channel/0029VaeylYYBPzjVNomWuZ0T" target="_blank">Join WhatsApp Channel</a>
        </div>
        <div class="card">
            <h2>Share This Page</h2>
            <button class="btn btn-copy" id="copyBtn">Copy Page Link</button>
        </div>
    `;

    document.getElementById("copyBtn").addEventListener("click", async ()=>{
        await navigator.clipboard.writeText(window.location.href);
        const b = document.getElementById("copyBtn");
        b.innerText = "Link Copied!";
        b.classList.add("copied");
        setTimeout(()=>{
            b.innerText = "Copy Page Link";
            b.classList.remove("copied");
        },1500);
    });
}

function showError(){
    document.getElementById("content").innerHTML = `
        <div class="card">
            <h2 style="color:${"var(--primary)"}">Stream Not Found</h2>
            <p>The requested stream does not exist.</p>
        </div>`;
}

function showPopup(){
    const p = document.getElementById("popupBox");
    p.style.display = "block";
    p.style.opacity = 1;
}
function closePopup(){
    const p = document.getElementById("popupBox");
    p.style.display = "none";
}

document.addEventListener("DOMContentLoaded", start);
</script>

</body>
</html>
