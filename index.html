<!DOCTYPE html>  
<html lang="en">  
<head>  
<meta charset="UTF-8" />  
<meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no" />  
<title>CRICKET NEWS POINT â„¢</title>  
  
<!-- Fonts (user requested) -->  
<link rel="preconnect" href="https://fonts.googleapis.com">  
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>  
<link href="https://fonts.googleapis.com/css2?family=Amaranth:ital,wght@0,400;0,700;1,700&family=Bebas+Neue&family=Momo+Trust+Display&family=Science+Gothic:slnt,wdth,wght,CTRS@-10..0,50..200,100..900,0..85&display=swap" rel="stylesheet">  
  
<!-- Player / icons -->  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shaka-player@4.3.4/dist/controls.css">  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">  
  
<style>  
:root{  
  --bg-color: #121212;  
  --primary-main: #c70c0c;  
  --primary-alt: #db1f1f;  
  --primary-alt-dark: #a60000;  
  --card-bg: #1e1e1e;  
  --text-light: #f1f5f9;  
  --text-muted: #94a3b8;  
  --border-color: #2d2d2d;  
}  
  
*{box-sizing:border-box;margin:0;padding:0}  
html,body{height:100%}  
body{  
  font-family: 'Amaranth','Momo Trust Display','Science Gothic','Bebas Neue', sans-serif;  
  background:var(--bg-color);  
  color:var(--text-light);  
  display:flex;  
  justify-content:center;  
  align-items:flex-start;  
  padding:1rem;  
  min-height:100vh;  
}  
  
.container{  
  width:100%;  
  max-width:900px;  
  opacity:0;  
  transform:translateY(24px);  
  animation:fadeIn .55s ease-out forwards;  
}  
@keyframes fadeIn{ to{ opacity:1; transform:translateY(0);}}  
  
.stream-header{  
  background:var(--card-bg);  
  border:1px solid var(--border-color);  
  padding:.85rem 1.25rem;  
  border-radius:14px;  
  display:flex;  
  justify-content:space-between;  
  align-items:center;  
  gap:1rem;  
  margin-bottom:1rem;  
}  
.stream-header h1{  
  font-size:1.35rem;  
  font-weight:700;  
}  
  
.live-badge{  
  background:linear-gradient(90deg,var(--primary-main),var(--primary-alt));  
  color:#fff;  
  padding:.28rem .75rem;  
  border-radius:20px;  
  font-weight:800;  
  display:flex;  
  align-items:center;  
  gap:.5rem;  
  font-size:.78rem;  
  animation:badgePulse 1.6s infinite;  
}  
@keyframes badgePulse{  
  0%{ transform:scale(1); box-shadow:0 0 0 0 rgba(199,12,12,0.18); }  
  70%{ box-shadow:0 0 0 10px rgba(199,12,12,0); }  
  100%{ box-shadow:0 0 0 0 rgba(199,12,12,0); }  
}  
  
#player-container{  
  width:100%;  
  height:56vh;  
  max-height:640px;  
  background:#000;  
  border-radius:14px;  
  overflow:hidden;  
  box-shadow:0 18px 60px rgba(0,0,0,0.6);  
}  
  
.info-card{  
  background:var(--card-bg);  
  border:1px solid var(--border-color);  
  border-radius:12px;  
  padding:1.15rem;  
  margin-top:1rem;  
  text-align:center;  
}  
.info-card h2{  
  font-size:1rem;  
  font-weight:700;  
  margin-bottom:.85rem;  
  color:var(--text-muted);  
}  
  
.action-button{  
  display:inline-flex;  
  align-items:center;  
  justify-content:center;  
  gap:.75rem;  
  width:100%;  
  padding:.85rem 1rem;  
  border-radius:10px;  
  background:linear-gradient(90deg,var(--primary-alt),var(--primary-alt-dark));  
  color:#fff;  
  font-weight:700;  
  border:0;  
  cursor:pointer;  
  transition:transform .18s ease;  
  font-size:1rem;  
}  
.action-button:hover{ transform:translateY(-3px); }  
  
.error-message{  
  text-align:center;  
  padding:3.2rem 1rem;  
  background:var(--card-bg);  
  border-radius:12px;  
}  
.error-message h2{  
  color:var(--primary-main);  
  margin-bottom:.6rem;  
}  
  
@media (max-width:600px){  
  #player-container{ height:48vh; }  
  .stream-header h1{ font-size:1.05rem; }  
}  
</style>  
</head>  
<body>  

<!-- ðŸ”¥ Hidden visitor counter (runs silently, user cannot see) -->  
<img src="https://www.counter12.com/img-9205Yd3W54Z3y43Z-5.gif" style="display:none;" alt="">  

<main class="container">  
  <div id="stream-content" aria-live="polite"></div>  
</main>  
  
<!-- Popup â†’ visible only when triggered by code -->  
<div class="telegram-popup" id="telegramPopup" role="dialog" aria-modal="true" aria-hidden="true" style="display:none; opacity:0;">  
  <h2><i class="fa-brands fa-telegram"></i> Support Us!</h2>  
  <p>Join our WhatsApp Channel <strong>CRICKET NEWS POINT</strong></p>  
  <a id="joinLink" href="https://whatsapp.com/channel/0029VaeylYYBPzjVNomWuZ0T" target="_blank" rel="noopener">  
    <button class="join-btn">Join Now</button>  
  </a>  
  <button class="joined-btn" id="alreadyJoinedBtn">Already Joined</button>  
</div>  
  
<script>  
(function(){  
  const FETCH_URL = 'https://raw.githubusercontent.com/Cricketstan/Allrounder-/refs/heads/main/id.json';  
  const streamContent = document.getElementById('stream-content');  
  const telegramPopup = document.getElementById('telegramPopup');  
  const joinLink = document.getElementById('joinLink');  
  const alreadyJoinedBtn = document.getElementById('alreadyJoinedBtn');  
  
  function safeHTML(str){ const d = document.createElement('div'); d.textContent = str; return d.innerHTML; }  
  
  function renderIframeUI(data){  
    document.title = `${data.name} â€¢ CRICKET NEWS POINT`;  
    streamContent.innerHTML = `  
      <div class="stream-header">  
        <h1>${safeHTML(data.name)}</h1>  
        <div class="live-badge"><i class="fa-solid fa-circle"></i> LIVE</div>  
      </div>  
  
      <div id="player-container">  
        <iframe src="${data.iframeSrc}" style="width:100%; height:100%; border:0;" allow="encrypted-media; autoplay; fullscreen" allowfullscreen></iframe>  
      </div>  
  
      <div class="info-card">  
        <h2><i class="fa-solid fa-bell"></i> Follow us for Updates</h2>  
        <a href="${joinLink.href}" target="_blank" class="action-button">  
          <i class="fa-brands fa-whatsapp"></i> Join WhatsApp Channel  
        </a>  
      </div>  
  
      <div class="info-card">  
        <h2><i class="fa-solid fa-link"></i> Share This Page</h2>  
        <button class="action-button" id="shareButton">  
          <i class="fa-solid fa-share-nodes"></i> Copy Link  
        </button>  
      </div>  
    `;  
  
    const shareBtn = document.getElementById('shareButton');  
    shareBtn.addEventListener('click', async ()=>{  
      try{  
        await navigator.clipboard.writeText(window.location.href);  
        shareBtn.innerHTML = '<i class="fa-solid fa-check"></i> Copied!';  
        setTimeout(()=>{  
          shareBtn.innerHTML = '<i class="fa-solid fa-share-nodes"></i> Copy Link';  
        },1500);  
      }catch(err){ console.error(err); }  
    });  
  }  
  
  function renderErrorUI(){  
    streamContent.innerHTML = `  
      <div class="error-message">  
        <h2><i class="fa-solid fa-triangle-exclamation"></i> Stream Not Found</h2>  
        <p>This stream ID does not exist.</p>  
      </div>  
    `;  
  }  
  
  function showPopup(){  
    telegramPopup.style.display = "block";  
    setTimeout(()=>{  
      telegramPopup.style.opacity = "1";  
    },10);  
  }  
  
  alreadyJoinedBtn.addEventListener('click', ()=>{  
    telegramPopup.style.opacity = "0";  
    setTimeout(()=> telegramPopup.style.display = "none", 300);  
  });  
  
  async function initializeApp(){  
    try{  
      const resp = await fetch(FETCH_URL, {cache:'no-store'});  
      const data = await resp.json();  
      const params = new URLSearchParams(window.location.search);  
      const streamId = params.get('id');  
  
      const streamData = data.iframes.find(x => String(x.id) === String(streamId));  
      if(streamData){  
        renderIframeUI(streamData);  
        setTimeout(showPopup, 1200);  
      } else renderErrorUI();  
    }catch(e){ renderErrorUI(); }  
  }  
  
  document.addEventListener('DOMContentLoaded', initializeApp);  
})();  
</script>  
</body>  
</html>
